---
import { isArray } from 'radash';
import type { Source } from '../../types';
import ActionSection from './ActionSection.astro';
import type { ActionGroupData } from './ActionSection.astro';

export interface Properties {
  reading?: Source[];
  id?: string;
}

const { reading, id } = Astro.props as Properties;

const safeReading = isArray(reading) ? reading : [];
if (safeReading.length === 0) {
  return;
}

const groups: ActionGroupData[] = [
  {
    icon: 'ri-book-open-line',
    title: 'Further Reading',
    type: 'links',
    items: safeReading.map((item) => ({
      title: item.title,
      description: item.description,
      url: item.url,
      buttonText: 'Read more',
    })),
  },
];
---

<ActionSection sectionTitle='Additional Reading' groups={groups} id={id} />
