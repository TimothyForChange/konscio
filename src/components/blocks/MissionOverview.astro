---
import missionData from '../../data/mission.json';
import type { Mission } from '../../types/mission.ts';
import { formatParagraphs } from '../../utils/text.ts';

const mission = missionData as Mission;
const { mission: missionStatement, description } = mission;
---

<section class='mission'>
  <div class='mission-content'>
    {missionStatement && <h1 class='mission-statement'>{missionStatement}</h1>}

    {
      description && (
        <div class='mission-bio'>
          {formatParagraphs(description).map((html: string) => (
            <p class='mission-bio-text' set:html={html} />
          ))}
        </div>
      )
    }
  </div>
</section>

<style>
  .mission {
    margin-top: var(--section-gap);
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .mission-content {
    text-align: center;
  }

  .mission-statement {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text-primary);
    margin: 0 0 var(--space-xs);
  }

  .mission-profession {
    font-size: var(--font-size-base);
    font-weight: 400;
    color: var(--text-secondary);
  }

  .mission-bio {
    margin-top: var(--heading-gap);
    max-width: 32rem;
  }

  .mission-bio .mission-bio-text {
    font-size: var(--font-size-lg);
    font-weight: 400;
    color: var(--text-primary);
    line-height: 1.6;
    text-align: center;
    margin-top: 1em;
  }

  .mission-bio .mission-bio-text:first-child {
    margin-top: 0;
  }
</style>
